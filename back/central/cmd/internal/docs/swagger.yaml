basePath: /api/v1
definitions:
  handlers.CreatePublicVoteRequest:
    properties:
      dni:
        description: Opcional - viene del token
        type: string
      property_unit_id:
        description: Opcional - viene del token
        type: integer
      voting_option_id:
        example: 1
        type: integer
    required:
    - voting_option_id
    type: object
  handlers.GeneratePublicVotingURLRequest:
    properties:
      duration_hours:
        description: Duración del token en horas
        example: 24
        type: integer
      frontend_url:
        description: URL base del frontend (opcional, usa URL_BASE_SWAGGER + /public/vote
          si está vacío)
        example: https://votacion.miconjunto.com/vote
        type: string
    type: object
  handlers.ValidateResidentRequest:
    properties:
      dni:
        example: "123456789"
        type: string
      property_unit_id:
        example: 1
        type: integer
    required:
    - dni
    - property_unit_id
    type: object
  request.AssignPermissionsToRoleRequest:
    properties:
      permission_ids:
        items:
          type: integer
        type: array
    required:
    - permission_ids
    type: object
  request.BusinessTypeRequest:
    properties:
      code:
        type: string
      description:
        type: string
      icon:
        type: string
      is_active:
        type: boolean
      name:
        type: string
    required:
    - code
    - name
    type: object
  request.CancelReservation:
    properties:
      reason:
        description: Razón opcional de cancelación
        type: string
    type: object
  request.ChangePasswordRequest:
    properties:
      current_password:
        maxLength: 100
        minLength: 6
        type: string
      new_password:
        maxLength: 100
        minLength: 6
        type: string
    required:
    - current_password
    - new_password
    type: object
  request.Client:
    properties:
      business_id:
        type: integer
      dni:
        type: string
      email:
        type: string
      name:
        type: string
      phone:
        type: string
    required:
    - business_id
    - email
    - name
    - phone
    type: object
  request.CreateAttendanceListRequest:
    properties:
      created_by_user_id:
        example: 5
        type: integer
      description:
        example: Lista de asistencia para la asamblea ordinaria
        maxLength: 1000
        type: string
      notes:
        example: Notas adicionales
        maxLength: 2000
        type: string
      title:
        example: Asistencia Asamblea Ordinaria 2024
        maxLength: 200
        minLength: 3
        type: string
      voting_group_id:
        example: 1
        type: integer
    required:
    - title
    - voting_group_id
    type: object
  request.CreatePermissionRequest:
    properties:
      action_id:
        description: ID de la action
        example: 1
        type: integer
      business_type_id:
        example: 11
        type: integer
      code:
        description: Opcional, se genera automáticamente si no se proporciona
        example: horizontalproperty_createuser
        type: string
      description:
        example: Permite crear nuevos usuarios en el sistema
        type: string
      name:
        example: Crear usuario
        type: string
      resource_id:
        description: ID del resource
        example: 1
        type: integer
      scope_id:
        example: 1
        type: integer
    required:
    - action_id
    - name
    - resource_id
    - scope_id
    type: object
  request.CreatePropertyUnitRequest:
    properties:
      area:
        example: 85.5
        type: number
      bathrooms:
        example: 2
        type: integer
      bedrooms:
        example: 3
        type: integer
      block:
        example: A
        type: string
      description:
        example: Apartamento esquinero con vista
        type: string
      floor:
        example: 1
        type: integer
      number:
        example: "101"
        type: string
      participation_coefficient:
        example: 0.008333
        type: number
      unit_type:
        example: apartment
        type: string
    required:
    - number
    - unit_type
    type: object
  request.CreateProxyRequest:
    properties:
      business_id:
        example: 1
        type: integer
      end_date:
        example: "2025-12-31T23:59:59Z"
        type: string
      notes:
        example: Notas adicionales
        maxLength: 1000
        type: string
      power_of_attorney:
        example: Poder para representar en asambleas
        maxLength: 1000
        type: string
      property_unit_id:
        example: 123
        type: integer
      proxy_address:
        example: 'Calle 123 #45-67'
        maxLength: 500
        type: string
      proxy_dni:
        example: "12345678"
        maxLength: 30
        minLength: 5
        type: string
      proxy_email:
        example: maria@email.com
        maxLength: 255
        type: string
      proxy_name:
        example: María García López
        maxLength: 255
        minLength: 3
        type: string
      proxy_phone:
        example: +57 300 123 4567
        maxLength: 20
        type: string
      proxy_type:
        enum:
        - external
        - resident
        - family
        example: external
        type: string
      start_date:
        example: "2025-01-15T00:00:00Z"
        type: string
    required:
    - business_id
    - property_unit_id
    - proxy_name
    type: object
  request.CreateResidentRequest:
    properties:
      dni:
        example: "123456789"
        type: string
      email:
        example: juan@email.com
        type: string
      emergency_contact:
        example: María Pérez - 3009876543
        type: string
      is_main_resident:
        example: true
        type: boolean
      lease_end_date:
        example: "2024-12-31T23:59:59Z"
        type: string
      lease_start_date:
        example: "2024-01-01T00:00:00Z"
        type: string
      monthly_rent:
        example: 1500000
        type: number
      move_in_date:
        example: "2024-01-15T00:00:00Z"
        type: string
      name:
        example: Juan Pérez
        type: string
      phone:
        example: "+573001234567"
        type: string
      property_unit_id:
        example: 1
        type: integer
      resident_type_id:
        example: 1
        type: integer
    required:
    - dni
    - email
    - name
    - property_unit_id
    - resident_type_id
    type: object
  request.CreateResourceRequest:
    description: Solicitud para crear un nuevo recurso en el sistema
    properties:
      business_type_id:
        example: 11
        type: integer
      description:
        example: Gestión de usuarios del sistema
        type: string
      name:
        example: users
        type: string
    required:
    - name
    type: object
  request.CreateRoleRequest:
    properties:
      business_type_id:
        example: 1
        type: integer
      description:
        example: Rol de administrador del sistema
        type: string
      is_system:
        example: false
        type: boolean
      level:
        example: 2
        maximum: 10
        minimum: 1
        type: integer
      name:
        example: Administrador
        type: string
      scope_id:
        example: 1
        type: integer
    required:
    - business_type_id
    - description
    - level
    - name
    - scope_id
    type: object
  request.CreateVoteRequest:
    properties:
      ip_address:
        type: string
      property_unit_id:
        type: integer
      user_agent:
        type: string
      voting_option_id:
        type: integer
    required:
    - property_unit_id
    - voting_option_id
    type: object
  request.CreateVotingGroupRequest:
    properties:
      created_by_user_id:
        type: integer
      description:
        maxLength: 1000
        type: string
      name:
        maxLength: 150
        minLength: 3
        type: string
      notes:
        maxLength: 2000
        type: string
      quorum_percentage:
        type: number
      requires_quorum:
        type: boolean
      voting_end_date:
        type: string
      voting_start_date:
        type: string
    required:
    - name
    - voting_end_date
    - voting_start_date
    type: object
  request.CreateVotingOptionRequest:
    properties:
      color:
        type: string
      display_order:
        minimum: 1
        type: integer
      option_code:
        maxLength: 20
        minLength: 1
        type: string
      option_text:
        maxLength: 100
        minLength: 1
        type: string
    required:
    - color
    - option_code
    - option_text
    type: object
  request.CreateVotingRequest:
    properties:
      allow_abstention:
        type: boolean
      description:
        maxLength: 2000
        type: string
      display_order:
        minimum: 1
        type: integer
      is_secret:
        type: boolean
      required_percentage:
        type: number
      title:
        maxLength: 200
        minLength: 3
        type: string
      voting_type:
        enum:
        - simple
        - majority
        - unanimity
        type: string
    required:
    - description
    - title
    - voting_type
    type: object
  request.GenerateBusinessTokenRequest:
    properties:
      business_id:
        description: 0 para super admin, >0 para usuarios normales
        type: integer
    type: object
  request.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  request.Reservation:
    properties:
      business_id:
        type: integer
      dni:
        type: string
      email:
        type: string
      end_at:
        type: string
      name:
        type: string
      number_of_guests:
        type: integer
      phone:
        type: string
      start_at:
        type: string
    required:
    - email
    - end_at
    - name
    - number_of_guests
    - phone
    - start_at
    type: object
  request.Room:
    properties:
      business_id:
        type: integer
      capacity:
        type: integer
      code:
        type: string
      description:
        type: string
      is_active:
        type: boolean
      max_capacity:
        type: integer
      min_capacity:
        type: integer
      name:
        type: string
    required:
    - business_id
    - capacity
    - code
    - name
    type: object
  request.Table:
    properties:
      business_id:
        type: integer
      capacity:
        type: integer
      number:
        type: integer
    required:
    - business_id
    - capacity
    - number
    type: object
  request.UpdateClient:
    properties:
      business_id:
        type: integer
      email:
        type: string
      name:
        type: string
      phone:
        type: string
    type: object
  request.UpdatePermissionRequest:
    properties:
      action_id:
        description: ID de la action
        example: 1
        type: integer
      business_type_id:
        example: 11
        type: integer
      code:
        example: users:create
        type: string
      description:
        example: Permite crear nuevos usuarios en el sistema
        type: string
      name:
        example: Crear usuarios
        type: string
      resource_id:
        description: ID del resource
        example: 1
        type: integer
      scope_id:
        example: 1
        type: integer
    required:
    - action_id
    - code
    - name
    - resource_id
    - scope_id
    type: object
  request.UpdatePropertyUnitRequest:
    properties:
      area:
        example: 85.5
        type: number
      bathrooms:
        example: 2
        type: integer
      bedrooms:
        example: 3
        type: integer
      block:
        example: A
        type: string
      description:
        example: Apartamento esquinero con vista
        type: string
      floor:
        example: 1
        type: integer
      is_active:
        example: true
        type: boolean
      number:
        example: "101"
        type: string
      participation_coefficient:
        example: 0.008333
        type: number
      unit_type:
        example: apartment
        type: string
    type: object
  request.UpdateProxyRequest:
    properties:
      end_date:
        example: "2025-12-31T23:59:59Z"
        type: string
      is_active:
        example: true
        type: boolean
      notes:
        example: Notas adicionales
        maxLength: 1000
        type: string
      power_of_attorney:
        example: Poder para representar en asambleas
        maxLength: 1000
        type: string
      proxy_address:
        example: 'Calle 123 #45-67'
        maxLength: 500
        type: string
      proxy_dni:
        example: "12345678"
        maxLength: 30
        minLength: 5
        type: string
      proxy_email:
        example: maria@email.com
        maxLength: 255
        type: string
      proxy_name:
        example: María García López
        maxLength: 255
        minLength: 3
        type: string
      proxy_phone:
        example: +57 300 123 4567
        maxLength: 20
        type: string
      proxy_type:
        enum:
        - external
        - resident
        - family
        example: external
        type: string
      start_date:
        example: "2025-01-15T00:00:00Z"
        type: string
    type: object
  request.UpdateReservation:
    properties:
      end_at:
        type: string
      number_of_guests:
        type: integer
      start_at:
        type: string
      status_id:
        type: integer
      table_id:
        type: integer
    type: object
  request.UpdateResidentRequest:
    properties:
      dni:
        example: "123456789"
        type: string
      email:
        example: juan@email.com
        type: string
      emergency_contact:
        example: María Pérez - 3009876543
        type: string
      is_active:
        example: true
        type: boolean
      is_main_resident:
        example: true
        type: boolean
      lease_end_date:
        example: "2024-12-31T23:59:59Z"
        type: string
      lease_start_date:
        example: "2024-01-01T00:00:00Z"
        type: string
      monthly_rent:
        example: 1500000
        type: number
      move_in_date:
        example: "2024-01-15T00:00:00Z"
        type: string
      move_out_date:
        example: "2025-01-15T00:00:00Z"
        type: string
      name:
        example: Juan Pérez
        type: string
      phone:
        example: "+573001234567"
        type: string
      property_unit_id:
        example: 1
        type: integer
      resident_type_id:
        example: 1
        type: integer
    type: object
  request.UpdateResourceRequest:
    description: Solicitud para actualizar un recurso existente
    properties:
      business_type_id:
        example: 11
        type: integer
      description:
        example: Gestión de usuarios del sistema
        type: string
      name:
        example: users
        type: string
    required:
    - name
    type: object
  request.UpdateRoleRequest:
    properties:
      business_type_id:
        example: 1
        type: integer
      description:
        example: Rol de administrador actualizado
        type: string
      is_system:
        example: false
        type: boolean
      level:
        example: 3
        maximum: 10
        minimum: 1
        type: integer
      name:
        example: Administrador Actualizado
        type: string
      scope_id:
        example: 1
        type: integer
    type: object
  request.UpdateRoom:
    properties:
      business_id:
        type: integer
      capacity:
        type: integer
      code:
        type: string
      description:
        type: string
      is_active:
        type: boolean
      max_capacity:
        type: integer
      min_capacity:
        type: integer
      name:
        type: string
    required:
    - business_id
    - capacity
    - code
    - name
    type: object
  request.UpdateTable:
    properties:
      business_id:
        type: integer
      capacity:
        type: integer
      number:
        type: integer
    type: object
  response.AssignPermissionsToRoleResponse:
    properties:
      message:
        example: Permisos asignados exitosamente al rol
        type: string
      permission_ids:
        items:
          type: integer
        type: array
      role_id:
        example: 1
        type: integer
      success:
        example: true
        type: boolean
    type: object
  response.BusinessDetailResponse:
    properties:
      address:
        type: string
      business_type:
        $ref: '#/definitions/response.BusinessTypeDetailResponse'
      code:
        type: string
      created_at:
        type: string
      custom_domain:
        type: string
      description:
        type: string
      enable_delivery:
        type: boolean
      enable_pickup:
        type: boolean
      enable_reservations:
        type: boolean
      id:
        type: integer
      is_active:
        type: boolean
      logo_url:
        type: string
      name:
        type: string
      navbar_image_url:
        type: string
      primary_color:
        type: string
      quaternary_color:
        type: string
      secondary_color:
        type: string
      tertiary_color:
        type: string
      timezone:
        type: string
      updated_at:
        type: string
    type: object
  response.BusinessTokenResponse:
    properties:
      token:
        type: string
    type: object
  response.BusinessTypeDetailResponse:
    properties:
      code:
        type: string
      created_at:
        type: string
      description:
        type: string
      icon:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      name:
        type: string
      updated_at:
        type: string
    type: object
  response.BusinessTypeInfo:
    properties:
      code:
        type: string
      description:
        type: string
      icon:
        type: string
      id:
        type: integer
      name:
        type: string
    type: object
  response.ChangePasswordResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  response.CommitteeResponse:
    properties:
      committee_type_id:
        example: 1
        type: integer
      end_date:
        example: "2026-12-31T23:59:59Z"
        type: string
      id:
        example: 1
        type: integer
      is_active:
        example: true
        type: boolean
      name:
        example: Consejo de Administración 2025
        type: string
      notes:
        example: Comité creado automáticamente
        type: string
      start_date:
        example: "2025-01-01T00:00:00Z"
        type: string
      type_code:
        example: admin_council
        type: string
      type_name:
        example: Consejo de Administración
        type: string
    type: object
  response.CreateRoleResponse:
    properties:
      data:
        $ref: '#/definitions/response.RoleData'
      message:
        example: Rol creado exitosamente
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.GenerateBusinessTokenErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.GenerateBusinessTokenSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.BusinessTokenResponse'
      message:
        type: string
      success:
        type: boolean
    type: object
  response.GetBusinessByIDResponse:
    properties:
      data:
        $ref: '#/definitions/response.BusinessDetailResponse'
      message:
        type: string
      success:
        type: boolean
    type: object
  response.GetRolePermissionsResponse:
    properties:
      count:
        example: 3
        type: integer
      message:
        example: Permisos del rol obtenidos exitosamente
        type: string
      permissions:
        items:
          $ref: '#/definitions/services_auth_internal_infra_primary_controllers_rolehandler_response.PermissionResponse'
        type: array
      role_id:
        example: 1
        type: integer
      role_name:
        example: Administrador
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.HorizontalPropertyDeleteSuccessResponse:
    properties:
      message:
        example: Propiedad horizontal eliminada exitosamente
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.HorizontalPropertyListResponse:
    properties:
      address:
        example: 'Carrera 15 #45-67, Bogotá'
        type: string
      business_type_name:
        example: Propiedad Horizontal
        type: string
      code:
        example: los-pinos
        type: string
      created_at:
        example: "2024-01-15T10:30:00Z"
        type: string
      id:
        example: 1
        type: integer
      is_active:
        example: true
        type: boolean
      logo_url:
        example: https://example.com/logos/los-pinos.png
        type: string
      name:
        example: Conjunto Residencial Los Pinos
        type: string
      total_units:
        example: 120
        type: integer
    type: object
  response.HorizontalPropertyListSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.PaginatedHorizontalPropertyResponse'
      message:
        example: Lista obtenida exitosamente
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.HorizontalPropertyResponse:
    properties:
      address:
        example: 'Carrera 15 #45-67, Bogotá'
        type: string
      business_type_id:
        example: 1
        type: integer
      business_type_name:
        example: Propiedad Horizontal
        type: string
      code:
        example: los-pinos
        type: string
      committees:
        items:
          $ref: '#/definitions/response.CommitteeResponse'
        type: array
      created_at:
        example: "2024-01-15T10:30:00Z"
        type: string
      custom_domain:
        example: lospinos.example.com
        type: string
      description:
        example: Conjunto residencial familiar con amplias zonas verdes
        type: string
      has_elevator:
        example: true
        type: boolean
      has_gym:
        example: false
        type: boolean
      has_parking:
        example: true
        type: boolean
      has_pool:
        example: true
        type: boolean
      has_social_area:
        example: true
        type: boolean
      id:
        example: 1
        type: integer
      is_active:
        example: true
        type: boolean
      logo_url:
        description: Configuración de marca blanca
        example: https://example.com/logo.png
        type: string
      name:
        example: Conjunto Residencial Los Pinos
        type: string
      navbar_image_url:
        example: https://example.com/navbar.jpg
        type: string
      parent_business_id:
        type: integer
      primary_color:
        example: '#1f2937'
        type: string
      property_units:
        description: Información detallada (solo en GET by ID)
        items:
          $ref: '#/definitions/services_horizontalproperty_internal_infra_primary_handlers_horizontalpropertyhandler_response.PropertyUnitResponse'
        type: array
      quaternary_color:
        example: '#fbbf24'
        type: string
      secondary_color:
        example: '#3b82f6'
        type: string
      tertiary_color:
        example: '#10b981'
        type: string
      timezone:
        example: America/Bogota
        type: string
      total_floors:
        example: 15
        type: integer
      total_units:
        description: Configuración específica para propiedades horizontales
        example: 120
        type: integer
      updated_at:
        example: "2024-01-15T10:30:00Z"
        type: string
    type: object
  response.HorizontalPropertySuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.HorizontalPropertyResponse'
      message:
        example: Operación realizada exitosamente
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.LoginBadRequestResponse:
    properties:
      details:
        type: string
      error:
        type: string
    type: object
  response.LoginErrorResponse:
    properties:
      details:
        type: string
      error:
        type: string
    type: object
  response.LoginResponse:
    properties:
      businesses:
        items:
          $ref: '#/definitions/services_auth_internal_infra_primary_controllers_authhandler_response.BusinessInfo'
        type: array
      is_super_admin:
        description: Indica si es super admin (scope platform o scope_id 1)
        type: boolean
      require_password_change:
        type: boolean
      scope:
        description: Scope del usuario (platform, business, etc.)
        type: string
      token:
        type: string
      user:
        $ref: '#/definitions/response.UserInfo'
    type: object
  response.LoginSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.LoginResponse'
      success:
        type: boolean
    type: object
  response.PaginatedHorizontalPropertyResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/response.HorizontalPropertyListResponse'
        type: array
      page:
        example: 1
        type: integer
      page_size:
        example: 10
        type: integer
      total:
        example: 150
        type: integer
      total_pages:
        example: 15
        type: integer
    type: object
  response.PermissionErrorResponse:
    properties:
      error:
        example: Error al procesar la solicitud
        type: string
    type: object
  response.PermissionListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/services_auth_internal_infra_primary_controllers_permissionhandler_response.PermissionResponse'
        type: array
      success:
        example: true
        type: boolean
      total:
        example: 10
        type: integer
    type: object
  response.PermissionMessageResponse:
    properties:
      message:
        example: Permiso creado exitosamente
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.PermissionSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/services_auth_internal_infra_primary_controllers_permissionhandler_response.PermissionResponse'
      success:
        example: true
        type: boolean
    type: object
  response.ReservationStatus:
    properties:
      code:
        type: string
      id:
        type: integer
      name:
        type: string
    type: object
  response.ReservationStatusListSuccessResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/response.ReservationStatus'
        type: array
      success:
        type: boolean
    type: object
  response.ResourcePermissions:
    properties:
      actions:
        items:
          type: string
        type: array
      active:
        description: Indica si el recurso está activo para el business
        type: boolean
      resource:
        type: string
    type: object
  response.RoleData:
    properties:
      business_type_id:
        example: 1
        type: integer
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      description:
        example: Rol de administrador del sistema
        type: string
      id:
        example: 1
        type: integer
      is_system:
        example: false
        type: boolean
      level:
        example: 2
        type: integer
      name:
        example: Administrador
        type: string
      scope_id:
        example: 1
        type: integer
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  response.RoleErrorResponse:
    properties:
      error:
        example: Error interno del servidor
        type: string
    type: object
  response.RoleInfoDetailed:
    properties:
      business_type_id:
        type: integer
      business_type_name:
        type: string
      description:
        type: string
      id:
        type: integer
      is_system:
        type: boolean
      level:
        type: integer
      name:
        type: string
      scope_code:
        type: string
      scope_id:
        type: integer
      scope_name:
        type: string
    type: object
  response.RoleListResponse:
    properties:
      count:
        example: 5
        type: integer
      data:
        items:
          $ref: '#/definitions/response.RoleResponse'
        type: array
      success:
        example: true
        type: boolean
    type: object
  response.RoleResponse:
    properties:
      business_type_id:
        example: 1
        type: integer
      business_type_name:
        example: Propiedad Horizontal
        type: string
      code:
        example: admin
        type: string
      description:
        example: Rol de administrador del sistema
        type: string
      id:
        example: 1
        type: integer
      is_system:
        example: true
        type: boolean
      level:
        example: 2
        type: integer
      name:
        example: Administrador
        type: string
      scope_code:
        example: system
        type: string
      scope_id:
        example: 1
        type: integer
      scope_name:
        example: Sistema
        type: string
    type: object
  response.RoleSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.RoleResponse'
      success:
        example: true
        type: boolean
    type: object
  response.UpdateRoleResponse:
    properties:
      data:
        $ref: '#/definitions/response.RoleData'
      message:
        example: Rol actualizado exitosamente
        type: string
      success:
        example: true
        type: boolean
    type: object
  response.UserErrorResponse:
    properties:
      error:
        type: string
    type: object
  response.UserInfo:
    properties:
      avatar_url:
        type: string
      email:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      last_login_at:
        type: string
      name:
        type: string
      phone:
        type: string
    type: object
  response.UserListResponse:
    properties:
      count:
        type: integer
      data:
        items:
          $ref: '#/definitions/response.UserResponse'
        type: array
      success:
        type: boolean
    type: object
  response.UserMessageResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  response.UserResponse:
    properties:
      avatar_url:
        type: string
      businesses:
        items:
          $ref: '#/definitions/services_auth_internal_infra_primary_controllers_handlers_response.BusinessInfo'
        type: array
      created_at:
        type: string
      email:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      last_login_at:
        type: string
      name:
        type: string
      phone:
        type: string
      roles:
        items:
          $ref: '#/definitions/services_auth_internal_infra_primary_controllers_handlers_response.RoleInfo'
        type: array
      updated_at:
        type: string
    type: object
  response.UserRolesPermissionsResponse:
    properties:
      business_id:
        type: integer
      business_name:
        type: string
      business_type_id:
        type: integer
      business_type_name:
        type: string
      is_super:
        type: boolean
      resources:
        items:
          $ref: '#/definitions/response.ResourcePermissions'
        type: array
      role:
        $ref: '#/definitions/services_auth_internal_infra_primary_controllers_authhandler_response.RoleInfo'
    type: object
  response.UserRolesPermissionsSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.UserRolesPermissionsResponse'
      success:
        type: boolean
    type: object
  response.UserSuccessResponse:
    properties:
      data:
        $ref: '#/definitions/response.UserResponse'
      success:
        type: boolean
    type: object
  services_auth_internal_infra_primary_controllers_authhandler_response.BusinessInfo:
    properties:
      address:
        type: string
      business_type:
        $ref: '#/definitions/response.BusinessTypeInfo'
      business_type_id:
        type: integer
      code:
        type: string
      custom_domain:
        type: string
      description:
        type: string
      enable_delivery:
        type: boolean
      enable_pickup:
        type: boolean
      enable_reservations:
        type: boolean
      id:
        type: integer
      is_active:
        type: boolean
      logo_url:
        type: string
      name:
        type: string
      navbar_image_url:
        type: string
      primary_color:
        type: string
      quaternary_color:
        type: string
      secondary_color:
        type: string
      tertiary_color:
        type: string
      timezone:
        type: string
    type: object
  services_auth_internal_infra_primary_controllers_authhandler_response.RoleInfo:
    properties:
      description:
        type: string
      id:
        type: integer
      name:
        type: string
    type: object
  services_auth_internal_infra_primary_controllers_permissionhandler_response.PermissionResponse:
    properties:
      action:
        example: create
        type: string
      business_type_id:
        example: 11
        type: integer
      business_type_name:
        example: Propiedad Horizontal
        type: string
      code:
        example: users:create
        type: string
      description:
        example: Permite crear nuevos usuarios en el sistema
        type: string
      id:
        example: 1
        type: integer
      name:
        example: Crear usuarios
        type: string
      resource:
        example: users
        type: string
      scope_code:
        example: system
        type: string
      scope_id:
        example: 1
        type: integer
      scope_name:
        example: Sistema
        type: string
    type: object
  services_auth_internal_infra_primary_controllers_rolehandler_response.PermissionResponse:
    properties:
      action:
        example: create
        type: string
      description:
        example: Crear usuarios
        type: string
      id:
        example: 1
        type: integer
      resource:
        example: users
        type: string
      scope_code:
        example: system
        type: string
      scope_id:
        example: 1
        type: integer
      scope_name:
        example: Sistema
        type: string
    type: object
  services_auth_internal_infra_primary_controllers_handlers_response.BusinessInfo:
    properties:
      business_type_id:
        type: integer
      business_type_name:
        type: string
      id:
        type: integer
      logo_url:
        type: string
      name:
        type: string
      role:
        allOf:
        - $ref: '#/definitions/response.RoleInfoDetailed'
        description: Rol del usuario en este business
    type: object
  services_auth_internal_infra_primary_controllers_handlers_response.RoleInfo:
    properties:
      description:
        type: string
      id:
        type: integer
      is_system:
        type: boolean
      level:
        type: integer
      name:
        type: string
      scope_id:
        type: integer
    type: object
  services_horizontalproperty_internal_infra_primary_handlers_horizontalpropertyhandler_response.PropertyUnitResponse:
    properties:
      area:
        example: 85.5
        type: number
      bathrooms:
        example: 2
        type: integer
      bedrooms:
        example: 3
        type: integer
      block:
        example: A
        type: string
      description:
        example: Apto 101 - Piso 1
        type: string
      floor:
        example: 1
        type: integer
      id:
        example: 1
        type: integer
      is_active:
        example: true
        type: boolean
      number:
        example: "101"
        type: string
      unit_type:
        example: apartment
        type: string
    type: object
host: localhost:3050
info:
  contact:
    email: backend@example.com
    name: Equipo de Backend
  description: Servicio REST para la gestión de reservas multi-restaurante.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://ejemplo.com/terminos
  title: Restaurant Reservation API
  version: "1.0"
paths:
  /attendance/lists:
    get:
      consumes:
      - application/json
      description: Lista todas las listas de asistencia por business con filtros opcionales
      parameters:
      - description: ID del business (opcional para super admin)
        in: query
        name: business_id
        type: integer
      - description: Filtro por título
        in: query
        name: title
        type: string
      - description: Filtro por activo
        in: query
        name: is_active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar listas de asistencia
      tags:
      - Asistencia
    post:
      consumes:
      - application/json
      description: Crea una nueva lista de asistencia para un grupo de votación
      parameters:
      - description: Datos de la lista de asistencia
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.CreateAttendanceListRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear lista de asistencia
      tags:
      - Asistencia
  /attendance/lists/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina una lista de asistencia por ID
      parameters:
      - description: ID de la lista
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar lista de asistencia
      tags:
      - Asistencia
  /attendance/lists/{id}/export-detailed-excel:
    get:
      consumes:
      - application/json
      description: 'Genera un Excel con columnas: Unidad, Nombre, Coeficiente, Apoderado,
        Asistencia. Incluye título con fecha de descarga.'
      parameters:
      - description: ID de la lista
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Exportar asistencia detallada a Excel
      tags:
      - Asistencia
  /attendance/lists/{id}/export-excel:
    get:
      consumes:
      - application/json
      description: 'Genera un Excel horizontal con columnas: Casa (unidad), Propietario,
        Apoderado, Firma. Incluye título del grupo en la hoja.'
      parameters:
      - description: ID de la lista
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Exportar lista de asistencia a Excel
      tags:
      - Asistencia
  /attendance/lists/{id}/records:
    get:
      consumes:
      - application/json
      description: Obtiene registros de una lista de asistencia con paginación y filtros
      parameters:
      - description: ID de la lista
        in: path
        name: id
        required: true
        type: integer
      - description: Página (default 1)
        in: query
        name: page
        type: integer
      - description: Tamaño de página (default 50)
        in: query
        name: page_size
        type: integer
      - description: Filtro por número de unidad (CASA)
        in: query
        name: unit_number
        type: string
      - description: 'Filtro de asistencia: true|false'
        in: query
        name: attended
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar registros de asistencia de una lista
      tags:
      - Asistencia
  /attendance/lists/{id}/summary:
    get:
      consumes:
      - application/json
      description: Obtiene el resumen estadístico de una lista
      parameters:
      - description: ID de la lista
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Resumen de asistencia
      tags:
      - Asistencia
  /attendance/lists/generate:
    post:
      consumes:
      - application/json
      description: Genera una lista de asistencia automáticamente para un grupo de
        votación con todas las unidades
      parameters:
      - description: ID del grupo de votación
        in: query
        name: voting_group_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Generar lista de asistencia automáticamente
      tags:
      - Asistencia
  /attendance/proxies:
    get:
      consumes:
      - application/json
      description: Lista todos los apoderados de un business con filtros opcionales
      parameters:
      - description: ID del business (opcional para super admin)
        in: query
        name: business_id
        type: integer
      - description: Filtro por unidad de propiedad
        in: query
        name: property_unit_id
        type: integer
      - description: Filtro por tipo de apoderado
        in: query
        name: proxy_type
        type: string
      - description: Filtro por activo
        in: query
        name: is_active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar apoderados
      tags:
      - Apoderados
    post:
      consumes:
      - application/json
      description: Crea un nuevo apoderado para una unidad de propiedad
      parameters:
      - description: Datos del apoderado
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.CreateProxyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear apoderado
      tags:
      - Apoderados
  /attendance/proxies/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un apoderado por su ID
      parameters:
      - description: ID del apoderado
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar apoderado
      tags:
      - Apoderados
    get:
      consumes:
      - application/json
      description: Obtiene un apoderado específico por su ID
      parameters:
      - description: ID del apoderado
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener apoderado por ID
      tags:
      - Apoderados
    put:
      consumes:
      - application/json
      description: Actualiza los datos de un apoderado existente
      parameters:
      - description: ID del apoderado
        in: path
        name: id
        required: true
        type: integer
      - description: Datos actualizados del apoderado
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateProxyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar apoderado
      tags:
      - Apoderados
  /attendance/proxies/unit/{unit_id}:
    get:
      consumes:
      - application/json
      description: Lista todos los apoderados asociados a una unidad de propiedad
        específica
      parameters:
      - description: ID de la unidad de propiedad
        in: path
        name: unit_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener apoderados por unidad de propiedad
      tags:
      - Apoderados
  /attendance/records/{id}/mark:
    post:
      consumes:
      - application/json
      description: Marca la asistencia de un registro por ID
      parameters:
      - description: ID del registro de asistencia
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Marcar asistencia
      tags:
      - Asistencia
  /attendance/records/{id}/unmark:
    post:
      consumes:
      - application/json
      description: Desmarca la asistencia de un registro por ID
      parameters:
      - description: ID del registro de asistencia
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Desmarcar asistencia
      tags:
      - Asistencia
  /auth/business-token:
    post:
      consumes:
      - application/json
      description: Genera un token específico para un business basado en el token
        principal del usuario. Para super admins (scope platform), usar business_id
        = 0
      parameters:
      - description: Datos del business (business_id = 0 para super admin)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.GenerateBusinessTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Token generado exitosamente
          schema:
            $ref: '#/definitions/response.GenerateBusinessTokenSuccessResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/response.GenerateBusinessTokenErrorResponse'
        "401":
          description: No autorizado
          schema:
            $ref: '#/definitions/response.GenerateBusinessTokenErrorResponse'
        "404":
          description: Business no encontrado o sin acceso
          schema:
            $ref: '#/definitions/response.GenerateBusinessTokenErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.GenerateBusinessTokenErrorResponse'
      security:
      - BusinessTokenAuth: []
      summary: Generar token de business
      tags:
      - Auth
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: Cambia la contraseña del usuario autenticado
      parameters:
      - description: Datos para cambiar contraseña
        in: body
        name: password
        required: true
        schema:
          $ref: '#/definitions/request.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Contraseña cambiada exitosamente
          schema:
            $ref: '#/definitions/response.ChangePasswordResponse'
        "400":
          description: Datos inválidos
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "403":
          description: Contraseña actual incorrecta
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
      security:
      - BearerAuth: []
      summary: Cambiar contraseña
      tags:
      - Auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: Autentica un usuario con email y contraseña, retornando información
        del usuario y token de acceso
      parameters:
      - description: Credenciales de login
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login exitoso
          schema:
            $ref: '#/definitions/response.LoginSuccessResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/response.LoginBadRequestResponse'
        "401":
          description: Credenciales inválidas
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "403":
          description: Usuario inactivo
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
      summary: Autenticar usuario
      tags:
      - Auth
  /auth/roles-permissions:
    get:
      consumes:
      - application/json
      description: Obtiene los roles y permisos del usuario autenticado desde el token
      produces:
      - application/json
      responses:
        "200":
          description: Roles y permisos obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.UserRolesPermissionsSuccessResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.LoginErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener roles y permisos del usuario
      tags:
      - Auth
  /business-resources/{business_type_id}/resources:
    put:
      consumes:
      - application/json
      description: Actualiza la lista de recursos permitidos para un tipo de negocio
        específico
      parameters:
      - description: ID del tipo de negocio
        in: path
        name: business_type_id
        required: true
        type: integer
      - description: Lista de IDs de recursos
        in: body
        name: request
        required: true
        schema:
          properties:
            resources_ids:
              items:
                type: integer
              type: array
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Tipo de negocio creado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar recursos de un tipo de negocio
      tags:
      - Business Resources
  /business-resources/businesses/{business_id}/configured-resources:
    put:
      consumes:
      - application/json
      description: Actualiza la lista de recursos configurados para un business específico
        (solo recursos permitidos por su tipo)
      parameters:
      - description: ID del business
        in: path
        name: business_id
        required: true
        type: integer
      - description: Lista de IDs de recursos
        in: body
        name: request
        required: true
        schema:
          properties:
            resources_ids:
              items:
                type: integer
              type: array
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Recursos configurados actualizados exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Parámetros inválidos o recursos no permitidos
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Business no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar recursos configurados de un business
      tags:
      - Business Resources
  /business-resources/businesses/configured-resources:
    get:
      consumes:
      - application/json
      description: Obtiene todos los business con sus recursos configurados aplicando
        paginación
      parameters:
      - default: 1
        description: 'Número de página (por defecto: 1)'
        in: query
        name: page
        type: integer
      - default: 10
        description: 'Elementos por página (por defecto: 10, máximo: 100)'
        in: query
        name: per_page
        type: integer
      - description: ID del business para filtrar
        in: query
        name: business_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Business con recursos configurados obtenidos exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Parámetros inválidos
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener business con recursos configurados
      tags:
      - Business Resources
  /business-resources/resources:
    get:
      consumes:
      - application/json
      description: Obtiene todos los tipos de negocio con sus recursos asociados aplicando
        paginación
      parameters:
      - default: 1
        description: 'Número de página (por defecto: 1)'
        in: query
        name: page
        type: integer
      - default: 10
        description: 'Elementos por página (por defecto: 10, máximo: 100)'
        in: query
        name: per_page
        type: integer
      - description: ID del tipo de negocio para filtrar
        in: query
        name: business_type_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Tipos de negocio con recursos obtenidos exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener tipos de negocio con recursos
      tags:
      - Business Resources
  /business-rooms/{business_id}:
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener todas las salas de un negocio específico.
      parameters:
      - description: ID del negocio
        in: path
        name: business_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Lista de salas del negocio
          schema:
            additionalProperties: true
            type: object
        "400":
          description: ID de negocio inválido
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene salas por negocio
      tags:
      - Salas
  /business-types:
    get:
      consumes:
      - application/json
      description: Obtiene una lista de todos los tipos de negocio del sistema
      produces:
      - application/json
      responses:
        "201":
          description: Tipos de negocio obtenidos exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener lista de tipos de negocio
      tags:
      - business-types
    post:
      consumes:
      - application/json
      description: Crea un nuevo tipo de negocio en el sistema
      parameters:
      - description: Datos del tipo de negocio a crear
        in: body
        name: businessType
        required: true
        schema:
          $ref: '#/definitions/request.BusinessTypeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Tipo de negocio creado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crear un nuevo tipo de negocio
      tags:
      - business-types
  /business-types/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un tipo de negocio del sistema
      parameters:
      - description: ID del tipo de negocio
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Tipo de negocio eliminado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar tipo de negocio
      tags:
      - business-types
    get:
      consumes:
      - application/json
      description: Obtiene un tipo de negocio específico por su ID
      parameters:
      - description: ID del tipo de negocio
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Tipo de negocio obtenido exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener tipo de negocio por ID
      tags:
      - business-types
    put:
      consumes:
      - application/json
      description: Actualiza un tipo de negocio existente
      parameters:
      - description: ID del tipo de negocio
        in: path
        name: id
        required: true
        type: integer
      - description: Datos del tipo de negocio a actualizar
        in: body
        name: businessType
        required: true
        schema:
          $ref: '#/definitions/request.BusinessTypeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Tipo de negocio actualizado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar tipo de negocio
      tags:
      - business-types
  /businesses:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de todos los negocios del sistema
      parameters:
      - description: Número de página (por defecto 1)
        in: query
        name: page
        type: integer
      - description: Límite de elementos por página (por defecto 10)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Negocios obtenidos exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener lista de negocios
      tags:
      - businesses
    post:
      consumes:
      - multipart/form-data
      description: Crea un nuevo negocio en el sistema
      parameters:
      - description: Nombre del negocio
        in: formData
        name: name
        required: true
        type: string
      - description: Código del negocio
        in: formData
        name: code
        required: true
        type: string
      - description: ID del tipo de negocio
        in: formData
        name: business_type_id
        required: true
        type: integer
      - description: Zona horaria
        in: formData
        name: timezone
        type: string
      - description: Dirección
        in: formData
        name: address
        type: string
      - description: Descripción
        in: formData
        name: description
        type: string
      - description: Logo del negocio
        in: formData
        name: logo_url
        type: file
      - description: Color primario
        in: formData
        name: primary_color
        type: string
      - description: Color secundario
        in: formData
        name: secondary_color
        type: string
      - description: Dominio personalizado
        in: formData
        name: custom_domain
        type: string
      - description: Habilitar delivery
        in: formData
        name: enable_delivery
        type: boolean
      - description: Habilitar pickup
        in: formData
        name: enable_pickup
        type: boolean
      - description: Habilitar reservas
        in: formData
        name: enable_reservations
        type: boolean
      produces:
      - application/json
      responses:
        "201":
          description: Negocio creado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crear un nuevo negocio
      tags:
      - businesses
  /businesses/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un negocio del sistema
      parameters:
      - description: ID del negocio
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Negocio eliminado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar negocio
      tags:
      - businesses
    get:
      consumes:
      - application/json
      description: Obtiene un negocio específico por su ID
      parameters:
      - description: ID del negocio
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Negocio obtenido exitosamente
          schema:
            $ref: '#/definitions/response.GetBusinessByIDResponse'
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener negocio por ID
      tags:
      - businesses
    put:
      consumes:
      - multipart/form-data
      description: Actualiza un negocio existente
      parameters:
      - description: ID del negocio
        in: path
        name: id
        required: true
        type: integer
      - description: Nombre del negocio
        in: formData
        name: name
        type: string
      - description: Código del negocio
        in: formData
        name: code
        type: string
      - description: ID del tipo de negocio
        in: formData
        name: business_type_id
        type: integer
      - description: Zona horaria
        in: formData
        name: timezone
        type: string
      - description: Dirección
        in: formData
        name: address
        type: string
      - description: Descripción
        in: formData
        name: description
        type: string
      - description: Logo del negocio
        in: formData
        name: logo_url
        type: file
      - description: Color primario
        in: formData
        name: primary_color
        type: string
      - description: Color secundario
        in: formData
        name: secondary_color
        type: string
      - description: Dominio personalizado
        in: formData
        name: custom_domain
        type: string
      - description: ¿Activo?
        in: formData
        name: is_active
        type: boolean
      - description: Habilitar delivery
        in: formData
        name: enable_delivery
        type: boolean
      - description: Habilitar pickup
        in: formData
        name: enable_pickup
        type: boolean
      - description: Habilitar reservas
        in: formData
        name: enable_reservations
        type: boolean
      produces:
      - application/json
      responses:
        "201":
          description: Negocio actualizado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar negocio
      tags:
      - businesses
  /clients:
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener la lista de todos los clientes registrados.
      produces:
      - application/json
      responses:
        "200":
          description: Lista de clientes obtenida exitosamente
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene todos los clientes
      tags:
      - Clientes
    post:
      consumes:
      - application/json
      description: Este endpoint permite crear un nuevo cliente para un restaurante.
      parameters:
      - description: Datos del cliente
        in: body
        name: client
        required: true
        schema:
          $ref: '#/definitions/request.Client'
      produces:
      - application/json
      responses:
        "201":
          description: Cliente creado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crea un nuevo cliente
      tags:
      - Clientes
  /clients/{id}:
    delete:
      consumes:
      - application/json
      description: Este endpoint permite eliminar un cliente existente del sistema.
      parameters:
      - description: ID del cliente
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Cliente eliminado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Cliente no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Elimina un cliente
      tags:
      - Clientes
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener los datos de un cliente específico
        por su ID.
      parameters:
      - description: ID del cliente
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Cliente obtenido exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Cliente no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene un cliente por ID
      tags:
      - Clientes
    put:
      consumes:
      - application/json
      description: Este endpoint permite actualizar parcialmente los datos de un cliente.
        Solo se modifican los campos enviados.
      parameters:
      - description: ID del cliente
        in: path
        name: id
        required: true
        type: integer
      - description: Datos del cliente a actualizar
        in: body
        name: client
        required: true
        schema:
          $ref: '#/definitions/request.UpdateClient'
      produces:
      - application/json
      responses:
        "200":
          description: Cliente actualizado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Cliente no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualiza un cliente existente
      tags:
      - Clientes
  /horizontal-properties:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de propiedades horizontales con filtros
        opcionales (incluye URLs de imágenes)
      parameters:
      - description: ID del business (opcional para super admin)
        in: query
        name: business_id
        type: integer
      - description: Filtro por nombre (búsqueda parcial)
        in: query
        name: name
        type: string
      - description: Filtro por código (búsqueda parcial)
        in: query
        name: code
        type: string
      - description: Filtro por estado activo
        in: query
        name: is_active
        type: boolean
      - default: 1
        description: Número de página (mínimo 1)
        in: query
        name: page
        type: integer
      - default: 10
        description: Tamaño de página (1-100)
        in: query
        name: page_size
        type: integer
      - default: created_at
        description: Campo de ordenamiento
        enum:
        - name
        - code
        - created_at
        - updated_at
        in: query
        name: order_by
        type: string
      - default: desc
        description: Dirección de ordenamiento
        enum:
        - asc
        - desc
        in: query
        name: order_dir
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.HorizontalPropertyListSuccessResponse'
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar propiedades horizontales
      tags:
      - Propiedades Horizontales
    post:
      consumes:
      - multipart/form-data
      description: 'Crea una nueva propiedad horizontal. IMPORTANTE: Los datos se
        envían como FormData (multipart/form-data), NO como JSON, porque incluye carga
        de archivos de imagen'
      parameters:
      - default: '"Conjunto Residencial Los Pinos"'
        description: Nombre
        in: formData
        name: name
        required: true
        type: string
      - default: '"conjunto-residencial-los-pinos"'
        description: Código único (opcional, se genera del nombre)
        in: formData
        name: code
        type: string
      - default: '"America/Bogota"'
        description: 'Zona horaria (opcional, default: America/Bogota)'
        in: formData
        name: timezone
        type: string
      - default: '"Carrera 15 #45-67"'
        description: Dirección
        in: formData
        name: address
        required: true
        type: string
      - default: '"Conjunto residencial familiar"'
        description: Descripción
        in: formData
        name: description
        type: string
      - default: 0
        description: 'Total de unidades (opcional, default: 0)'
        in: formData
        name: total_units
        type: integer
      - default: 0
        description: Total de pisos (opcional)
        in: formData
        name: total_floors
        type: integer
      - default: true
        description: Tiene ascensor
        in: formData
        name: has_elevator
        type: boolean
      - default: true
        description: Tiene parqueadero
        in: formData
        name: has_parking
        type: boolean
      - default: true
        description: Tiene piscina
        in: formData
        name: has_pool
        type: boolean
      - default: true
        description: Tiene gimnasio
        in: formData
        name: has_gym
        type: boolean
      - default: true
        description: Tiene área social
        in: formData
        name: has_social_area
        type: boolean
      - description: Logo (PNG/JPG, max 10MB)
        in: formData
        name: logo_file
        type: file
      - description: Imagen navbar (PNG/JPG, max 10MB)
        in: formData
        name: navbar_image_file
        type: file
      - default: '"#1f2937"'
        description: Color primario
        in: formData
        name: primary_color
        type: string
      - default: '"#3b82f6"'
        description: Color secundario
        in: formData
        name: secondary_color
        type: string
      - default: '"#10b981"'
        description: Color terciario
        in: formData
        name: tertiary_color
        type: string
      - default: '"#fbbf24"'
        description: Color cuaternario
        in: formData
        name: quaternary_color
        type: string
      - default: '"lospinos.com"'
        description: Dominio personalizado
        in: formData
        name: custom_domain
        type: string
      - default: true
        description: Crear unidades automáticamente
        in: formData
        name: create_units
        type: boolean
      - default: '"Apto"'
        description: Prefijo unidades
        in: formData
        name: unit_prefix
        type: string
      - default: '"apartment"'
        description: Tipo unidad
        in: formData
        name: unit_type
        type: string
      - default: 12
        description: Unidades por piso
        in: formData
        name: units_per_floor
        type: integer
      - default: 101
        description: Número inicial
        in: formData
        name: start_unit_number
        type: integer
      - default: true
        description: Crear comités requeridos
        in: formData
        name: create_required_committees
        type: boolean
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.HorizontalPropertySuccessResponse'
        "400":
          description: Bad Request
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear una nueva propiedad horizontal
      tags:
      - Propiedades Horizontales
  /horizontal-properties/{business_id}:
    delete:
      consumes:
      - application/json
      description: Elimina una propiedad horizontal (soft delete) y sus imágenes de
        S3
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.HorizontalPropertyDeleteSuccessResponse'
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar propiedad horizontal
      tags:
      - Propiedades Horizontales
    get:
      consumes:
      - application/json
      description: Obtiene una propiedad horizontal con información detallada (incluye
        unidades y comités)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.HorizontalPropertySuccessResponse'
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener propiedad horizontal por ID
      tags:
      - Propiedades Horizontales
    put:
      consumes:
      - multipart/form-data
      description: Actualiza una propiedad horizontal existente (actualización parcial,
        soporta cambio de imágenes)
      parameters:
      - description: Nombre de la propiedad
        in: formData
        name: name
        type: string
      - description: Código único
        in: formData
        name: code
        type: string
      - description: Dirección
        in: formData
        name: address
        type: string
      - description: Descripción
        in: formData
        name: description
        type: string
      - description: Zona horaria
        in: formData
        name: timezone
        type: string
      - description: Total de unidades
        in: formData
        name: total_units
        type: integer
      - description: Total de pisos
        in: formData
        name: total_floors
        type: integer
      - description: ¿Tiene ascensor?
        in: formData
        name: has_elevator
        type: boolean
      - description: ¿Tiene parqueadero?
        in: formData
        name: has_parking
        type: boolean
      - description: ¿Tiene piscina?
        in: formData
        name: has_pool
        type: boolean
      - description: ¿Tiene gimnasio?
        in: formData
        name: has_gym
        type: boolean
      - description: ¿Tiene área social?
        in: formData
        name: has_social_area
        type: boolean
      - description: Nuevo logo (reemplaza el anterior)
        in: formData
        name: logo_file
        type: file
      - description: Nueva imagen del navbar (reemplaza la anterior)
        in: formData
        name: navbar_image_file
        type: file
      - description: Color primario (hex)
        in: formData
        name: primary_color
        type: string
      - description: Color secundario (hex)
        in: formData
        name: secondary_color
        type: string
      - description: Color terciario (hex)
        in: formData
        name: tertiary_color
        type: string
      - description: Color cuaternario (hex)
        in: formData
        name: quaternary_color
        type: string
      - description: Dominio personalizado
        in: formData
        name: custom_domain
        type: string
      - description: Estado activo
        in: formData
        name: is_active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.HorizontalPropertySuccessResponse'
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar propiedad horizontal
      tags:
      - Propiedades Horizontales
  /horizontal-properties/property-units:
    get:
      consumes:
      - application/json
      description: Obtiene lista paginada de unidades; si el usuario es super admin
        y no envía business_id, verá todas
      parameters:
      - description: ID del business (opcional; si se omite y es super admin, ve todo)
        in: query
        name: business_id
        type: integer
      - description: Filtrar por número de unidad (búsqueda parcial)
        in: query
        name: number
        type: string
      - description: Tipo de unidad (apartment, house, office)
        in: query
        name: unit_type
        type: string
      - description: Número de piso
        in: query
        name: floor
        type: integer
      - description: Bloque/Torre
        in: query
        name: block
        type: string
      - description: Estado activo
        in: query
        name: is_active
        type: boolean
      - default: 1
        description: Página
        in: query
        name: page
        type: integer
      - default: 10
        description: Tamaño de página
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar unidades de propiedad
      tags:
      - Property Units
    post:
      consumes:
      - application/json
      description: Crea una nueva unidad de propiedad (apartamento/casa) en una propiedad
        horizontal
      parameters:
      - description: Datos de la unidad
        in: body
        name: unit
        required: true
        schema:
          $ref: '#/definitions/request.CreatePropertyUnitRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear unidad de propiedad
      tags:
      - Property Units
  /horizontal-properties/property-units/{unit_id}:
    delete:
      consumes:
      - application/json
      description: Elimina (soft delete) una unidad de propiedad
      parameters:
      - description: ID de la unidad
        in: path
        name: unit_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar unidad de propiedad
      tags:
      - Property Units
    get:
      consumes:
      - application/json
      description: Obtiene los detalles de una unidad de propiedad específica
      parameters:
      - description: ID de la unidad
        in: path
        name: unit_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener unidad por ID
      tags:
      - Property Units
    put:
      consumes:
      - application/json
      description: Actualiza los datos de una unidad de propiedad existente
      parameters:
      - description: ID de la unidad
        in: path
        name: unit_id
        required: true
        type: integer
      - description: Datos actualizados
        in: body
        name: unit
        required: true
        schema:
          $ref: '#/definitions/request.UpdatePropertyUnitRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar unidad de propiedad
      tags:
      - Property Units
  /horizontal-properties/property-units/import-excel:
    post:
      consumes:
      - multipart/form-data
      description: 'Importa múltiples unidades de propiedad desde un archivo Excel.
        El Excel debe tener 2 columnas: ''Número de Unidad'' y ''Coeficiente de Participación'''
      parameters:
      - description: ID del business (opcional para super admin)
        in: formData
        name: business_id
        type: integer
      - description: Archivo Excel (.xlsx)
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Importar unidades desde Excel
      tags:
      - Unidades de Propiedad
  /horizontal-properties/residents:
    get:
      consumes:
      - application/json
      description: Obtiene lista paginada de residentes de una propiedad horizontal
      parameters:
      - description: ID del business (opcional para super admin)
        in: query
        name: business_id
        type: integer
      - description: Filtrar por número de unidad (búsqueda parcial)
        in: query
        name: property_unit_number
        type: string
      - description: Filtrar por nombre del residente (búsqueda parcial)
        in: query
        name: name
        type: string
      - description: Filtrar por ID de unidad
        in: query
        name: property_unit_id
        type: integer
      - description: Filtrar por tipo de residente
        in: query
        name: resident_type_id
        type: integer
      - description: Filtrar por estado activo
        in: query
        name: is_active
        type: boolean
      - description: Filtrar por residente principal
        in: query
        name: is_main_resident
        type: boolean
      - default: 1
        description: Página
        in: query
        name: page
        type: integer
      - default: 10
        description: Tamaño de página
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar residentes
      tags:
      - Residents
    post:
      consumes:
      - application/json
      description: Crea un nuevo residente en una propiedad horizontal
      parameters:
      - description: Datos del residente
        in: body
        name: resident
        required: true
        schema:
          $ref: '#/definitions/request.CreateResidentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear residente
      tags:
      - Residents
  /horizontal-properties/residents/{resident_id}:
    delete:
      consumes:
      - application/json
      description: Elimina (soft delete) un residente
      parameters:
      - description: ID del residente
        in: path
        name: resident_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar residente
      tags:
      - Residents
    get:
      consumes:
      - application/json
      description: Obtiene los detalles de un residente específico
      parameters:
      - description: ID del residente
        in: path
        name: resident_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener residente por ID
      tags:
      - Residents
    put:
      consumes:
      - application/json
      description: Actualiza los datos de un residente existente
      parameters:
      - description: ID del residente
        in: path
        name: resident_id
        required: true
        type: integer
      - description: Datos actualizados
        in: body
        name: resident
        required: true
        schema:
          $ref: '#/definitions/request.UpdateResidentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar residente
      tags:
      - Residents
  /horizontal-properties/residents/bulk-update:
    put:
      consumes:
      - multipart/form-data
      description: Actualiza múltiples residentes usando un archivo Excel. La columna
        principal es 'unidad' para identificar el residente. Solo se pueden actualizar
        nombre y DNI.
      parameters:
      - description: ID del business (opcional para super admin)
        in: formData
        name: business_id
        type: integer
      - description: Archivo Excel con residentes a actualizar
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Edición masiva de residentes por Excel
      tags:
      - Residentes
  /horizontal-properties/residents/import-excel:
    post:
      consumes:
      - multipart/form-data
      description: 'Importa múltiples residentes desde un archivo Excel. VALIDACION
        TODO O NADA: Si UNA unidad no existe, NO se crea NADA. El Excel debe tener
        3 columnas: ''Número de Unidad'', ''Nombre Propietario'', ''DNI'''
      parameters:
      - description: ID del business (opcional para super admin)
        in: formData
        name: business_id
        type: integer
      - description: Archivo Excel (.xlsx)
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Importar residentes desde Excel
      tags:
      - Residentes
  /horizontal-properties/voting-groups:
    get:
      consumes:
      - application/json
      description: Obtiene la lista de grupos de votación de una propiedad horizontal
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar grupos de votación
      tags:
      - Votaciones
    post:
      consumes:
      - application/json
      description: Crea un nuevo grupo de votación para una propiedad horizontal
      parameters:
      - description: Datos del grupo de votación
        in: body
        name: voting_group
        required: true
        schema:
          $ref: '#/definitions/request.CreateVotingGroupRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear un nuevo grupo de votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}:
    delete:
      consumes:
      - application/json
      description: Desactiva un grupo de votación existente
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Desactivar un grupo de votación
      tags:
      - Votaciones
    put:
      consumes:
      - application/json
      description: Actualiza los datos de un grupo de votación existente
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: Datos actualizados del grupo
        in: body
        name: voting_group
        required: true
        schema:
          $ref: '#/definitions/request.CreateVotingGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar un grupo de votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings:
    get:
      consumes:
      - application/json
      description: Obtiene la lista de votaciones de un grupo de votación específico
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar votaciones de un grupo
      tags:
      - Votaciones
    post:
      consumes:
      - application/json
      description: Crea una nueva votación dentro de un grupo de votación
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: Datos de la votación
        in: body
        name: voting
        required: true
        schema:
          $ref: '#/definitions/request.CreateVotingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear una nueva votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}:
    delete:
      consumes:
      - application/json
      description: Elimina permanentemente una votación usando soft delete (gorm.DeletedAt)
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar una votación
      tags:
      - Votaciones
    put:
      consumes:
      - application/json
      description: Actualiza los datos de una votación existente
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: Datos actualizados de la votación
        in: body
        name: voting
        required: true
        schema:
          $ref: '#/definitions/request.CreateVotingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar una votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/activate:
    patch:
      consumes:
      - application/json
      description: Activa una votación existente (is_active = true)
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Activar una votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/deactivate:
    patch:
      consumes:
      - application/json
      description: Desactiva una votación existente (is_active = false)
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Desactivar una votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/generate-public-url:
    post:
      consumes:
      - application/json
      description: 'Genera una URL con token especial para compartir vía QR y permitir
        votación pública. La URL se construye usando: 1) frontend_url del request,
        o 2) URL_BASE_SWAGGER + /public/vote'
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: Configuración de la URL
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.GeneratePublicVotingURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Generar URL pública para votación con QR
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/options:
    get:
      consumes:
      - application/json
      description: Obtiene la lista de opciones de una votación específica
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar opciones de votación
      tags:
      - Votaciones
    post:
      consumes:
      - application/json
      description: Crea una nueva opción para una votación específica
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: Datos de la opción de votación
        in: body
        name: option
        required: true
        schema:
          $ref: '#/definitions/request.CreateVotingOptionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Crear una opción de votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/options/{option_id}:
    delete:
      consumes:
      - application/json
      description: Desactiva una opción de votación existente
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: ID de la opción de votación
        in: path
        name: option_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Desactivar una opción de votación
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/stream:
    get:
      consumes:
      - application/json
      description: Establece una conexión SSE para recibir votos en tiempo real de
        una votación específica
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - text/event-stream
      responses:
        "200":
          description: Event stream
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Stream de resultados de votación en tiempo real (SSE)
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/unvoted-units:
    get:
      consumes:
      - application/json
      description: Obtiene la lista de unidades que no han votado en una votación
        específica, útil para formularios de votación. Permite filtrar por número
        de unidad.
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: 'Filtrar por número de unidad (ej: ''15'' encuentra todas las
          unidades con 15, ''casa 15'' encuentra CASA 15, CASA 150, etc.)'
        in: query
        name: unit_number
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener unidades sin votar
      tags:
      - Voting
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/votes:
    get:
      consumes:
      - application/json
      description: Obtiene la lista de votos registrados en una votación específica
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Listar votos de una votación
      tags:
      - Votaciones
    post:
      consumes:
      - application/json
      description: Registra el voto de un residente para una votación específica
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: Datos del voto
        in: body
        name: vote
        required: true
        schema:
          $ref: '#/definitions/request.CreateVoteRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Registrar un voto
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/votes/{vote_id}:
    delete:
      consumes:
      - application/json
      description: Elimina un voto específico. Solo para administradores autenticados.
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      - description: ID del voto a eliminar
        in: path
        name: vote_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar voto (admin)
      tags:
      - Votaciones
  /horizontal-properties/voting-groups/{group_id}/votings/{voting_id}/voting-details:
    get:
      consumes:
      - application/json
      description: Obtiene TODAS las unidades con número, residente principal, coeficiente
        de participación, y estado de votación (si votó, qué opción eligió, cuándo
        votó)
      parameters:
      - description: ID del grupo de votación
        in: path
        name: group_id
        required: true
        type: integer
      - description: ID de la votación
        in: path
        name: voting_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      security:
      - BearerAuth: []
      summary: Obtener detalles completos de votación (Admin)
      tags:
      - Votaciones
  /permissions:
    get:
      consumes:
      - application/json
      description: Obtiene la lista completa de permisos del sistema con filtros opcionales
        por tipo de business, nombre y scope
      parameters:
      - description: Filtrar por tipo de business (incluye genéricos)
        in: query
        name: business_type_id
        type: integer
      - description: Filtrar por nombre de permiso (búsqueda parcial)
        in: query
        name: name
        type: string
      - description: Filtrar por ID de scope
        in: query
        name: scope_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Lista de permisos obtenida exitosamente
          schema:
            $ref: '#/definitions/response.PermissionListResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener todos los permisos
      tags:
      - Permissions
    post:
      consumes:
      - application/json
      description: Crea un nuevo permiso en el sistema
      parameters:
      - description: Datos del permiso a crear
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/request.CreatePermissionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Permiso creado exitosamente
          schema:
            $ref: '#/definitions/response.PermissionMessageResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "409":
          description: Permiso con código duplicado
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Crear nuevo permiso
      tags:
      - Permissions
  /permissions/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un permiso del sistema
      parameters:
      - description: ID del permiso
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Permiso eliminado exitosamente
          schema:
            $ref: '#/definitions/response.PermissionMessageResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "404":
          description: Permiso no encontrado
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Eliminar permiso
      tags:
      - Permissions
    get:
      consumes:
      - application/json
      description: Obtiene un permiso específico por su ID
      parameters:
      - description: ID del permiso
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Permiso obtenido exitosamente
          schema:
            $ref: '#/definitions/response.PermissionSuccessResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "404":
          description: Permiso no encontrado
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener permiso por ID
      tags:
      - Permissions
    put:
      consumes:
      - application/json
      description: Actualiza un permiso existente en el sistema
      parameters:
      - description: ID del permiso
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      - description: Datos del permiso a actualizar
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/request.UpdatePermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Permiso actualizado exitosamente
          schema:
            $ref: '#/definitions/response.PermissionMessageResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "404":
          description: Permiso no encontrado
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "409":
          description: Permiso con código duplicado
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Actualizar permiso
      tags:
      - Permissions
  /permissions/resource/{resource}:
    get:
      consumes:
      - application/json
      description: Obtiene todos los permisos de un recurso específico
      parameters:
      - description: Recurso de los permisos
        example: '"users"'
        in: path
        name: resource
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Permisos por recurso obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.PermissionListResponse'
        "400":
          description: Recurso inválido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener permisos por recurso
      tags:
      - Permissions
  /permissions/scope/{scope_id}:
    get:
      consumes:
      - application/json
      description: Obtiene todos los permisos de un scope específico
      parameters:
      - description: ID del scope
        in: path
        minimum: 1
        name: scope_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Permisos por scope obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.PermissionListResponse'
        "400":
          description: Scope ID inválido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.PermissionErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener permisos por scope
      tags:
      - Permissions
  /public/property-units:
    get:
      consumes:
      - application/json
      description: Obtiene las unidades de propiedad usando el token de votación pública.
        El HP ID viene en el token. Permite filtrar por número de unidad.
      parameters:
      - description: Token de votación pública (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      - description: 'Filtrar por número de unidad (ej: 101, Apto 202)'
        in: query
        name: number
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Obtener unidades de propiedad (público)
      tags:
      - Votaciones Públicas
  /public/units-with-residents:
    get:
      consumes:
      - application/json
      description: Lista todas las unidades activas con su residente principal. Para
        cruzar con votos en el frontend.
      parameters:
      - description: Token de autenticación de votación (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Listar unidades con residentes (público)
      tags:
      - Votaciones Públicas
  /public/validate-resident:
    post:
      consumes:
      - application/json
      description: Valida que un residente pertenezca a una unidad usando su DNI y
        retorna token temporal para votar. TODA la información viene del token.
      parameters:
      - description: Datos de validación
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ValidateResidentRequest'
      - description: Token de votación pública (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Validar residente para votación pública
      tags:
      - Votaciones Públicas
  /public/vote:
    post:
      consumes:
      - application/json
      description: Permite a un residente emitir su voto. Requiere token de autenticación
        de votación (VOTING_AUTH_TOKEN) obtenido después de validar el residente.
      parameters:
      - description: Token de autenticación de votación (VOTING_AUTH_TOKEN - Bearer
          token)
        in: header
        name: Authorization
        required: true
        type: string
      - description: Datos del voto (opción requerida, DNI y unidad opcionales - vienen
          del token)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.CreatePublicVoteRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "409":
          description: Conflict
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Emitir voto (público)
      tags:
      - Votaciones Públicas
  /public/votes:
    get:
      consumes:
      - application/json
      description: Lista todos los votos emitidos. El frontend cruza con opciones
        y unidades.
      parameters:
      - description: Token de autenticación de votación (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Listar votos de la votación (público)
      tags:
      - Votaciones Públicas
  /public/voting-context:
    get:
      consumes:
      - application/json
      description: Obtiene el nombre de la votación y la propiedad horizontal usando
        el token público. Se muestra antes de la validación del residente.
      parameters:
      - description: Token de votación pública (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Obtener contexto de votación pública
      tags:
      - Votaciones Públicas
  /public/voting-info:
    get:
      consumes:
      - application/json
      description: Obtiene toda la información de la votación usando solo el VOTING_AUTH_TOKEN.
        Incluye título, descripción, opciones, etc.
      parameters:
      - description: Token de autenticación de votación (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "404":
          description: Not Found
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Obtener información de votación (pública)
      tags:
      - Votaciones Públicas
  /public/voting-stats:
    get:
      consumes:
      - application/json
      description: 'Obtiene las estadísticas completas de la votación: resultados
        por opción, total de votos, porcentajes. Toda la información viene del token.'
      parameters:
      - description: Token de autenticación de votación (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Obtener estadísticas de votación (público)
      tags:
      - Votaciones Públicas
  /public/voting-stream:
    get:
      consumes:
      - application/json
      description: Establece una conexión SSE para recibir votos en tiempo real. Toda
        la información viene del token.
      parameters:
      - description: Token de autenticación de votación (Bearer token)
        in: header
        name: Authorization
        required: true
        type: string
      produces:
      - text/event-stream
      responses:
        "200":
          description: Event stream
          schema:
            type: string
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: Stream público de resultados de votación en tiempo real (SSE)
      tags:
      - Votaciones Públicas
  /reserves:
    get:
      consumes:
      - application/json
      description: Este endpoint obtiene todas las reservas con información completa
        de cliente, mesa, restaurante y estado. Soporta filtros opcionales.
      parameters:
      - description: ID del estado de reserva
        in: query
        name: status_id
        type: integer
      - description: ID del cliente
        in: query
        name: client_id
        type: integer
      - description: ID de la mesa
        in: query
        name: table_id
        type: integer
      - description: 'Fecha de inicio (formato RFC3339: 2024-01-01T00:00:00Z)'
        in: query
        name: start_date
        type: string
      - description: 'Fecha de fin (formato RFC3339: 2024-12-31T23:59:59Z)'
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Lista de reservas obtenida exitosamente
          schema:
            type: object
        "400":
          description: Parámetros inválidos
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene todas las reservas
      tags:
      - Reservas
    post:
      consumes:
      - application/json
      description: Este endpoint permite crear una nueva reserva para una mesa en
        un restaurante.
      parameters:
      - description: Datos de la reserva
        in: body
        name: reservation
        required: true
        schema:
          $ref: '#/definitions/request.Reservation'
      produces:
      - application/json
      responses:
        "201":
          description: Reserva creada exitosamente
          schema:
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crea una nueva reserva
      tags:
      - Reservas
  /reserves/{id}:
    get:
      consumes:
      - application/json
      description: Este endpoint obtiene una reserva específica con información completa
        de cliente, mesa, restaurante y estado
      parameters:
      - description: ID de la reserva
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Reserva obtenida exitosamente
          schema:
            type: object
        "400":
          description: ID inválido
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Reserva no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene una reserva por ID
      tags:
      - Reservas
    put:
      consumes:
      - application/json
      description: Este endpoint permite actualizar campos específicos de una reserva
        existente
      parameters:
      - description: ID de la reserva
        in: path
        name: id
        required: true
        type: integer
      - description: Datos para actualizar
        in: body
        name: update
        required: true
        schema:
          $ref: '#/definitions/request.UpdateReservation'
      produces:
      - application/json
      responses:
        "200":
          description: Reserva actualizada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Reserva no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualiza una reserva
      tags:
      - Reservas
  /reserves/{id}/cancel:
    patch:
      consumes:
      - application/json
      description: Este endpoint permite cancelar una reserva existente
      parameters:
      - description: ID de la reserva
        in: path
        name: id
        required: true
        type: integer
      - description: Razón de cancelación (opcional)
        in: body
        name: cancel
        schema:
          $ref: '#/definitions/request.CancelReservation'
      produces:
      - application/json
      responses:
        "200":
          description: Reserva cancelada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Reserva no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Cancela una reserva
      tags:
      - Reservas
  /reserves/status:
    get:
      description: Obtiene todos los estados de reserva disponibles
      produces:
      - application/json
      responses:
        "200":
          description: Estados de reserva obtenidos correctamente
          schema:
            $ref: '#/definitions/response.ReservationStatusListSuccessResponse'
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Lista los estados de reserva
      tags:
      - Reservas
  /resources:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de recursos del sistema con opciones
        de filtrado y ordenamiento
      parameters:
      - default: 1
        description: Número de página
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Tamaño de página
        in: query
        maximum: 100
        minimum: 1
        name: page_size
        type: integer
      - description: Filtrar por nombre (búsqueda parcial)
        in: query
        name: name
        type: string
      - description: Filtrar por descripción (búsqueda parcial)
        in: query
        name: description
        type: string
      - description: Filtrar por tipo de business (incluye genéricos)
        in: query
        name: business_type_id
        type: integer
      - description: Campo para ordenar
        enum:
        - name
        - created_at
        - updated_at
        in: query
        name: sort_by
        type: string
      - description: Orden
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Lista de recursos obtenida exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Parámetros de consulta inválidos
          schema:
            additionalProperties: true
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener recursos
      tags:
      - Resources
    post:
      consumes:
      - application/json
      description: Crea un nuevo recurso en el sistema con nombre y descripción únicos
      parameters:
      - description: Datos del recurso a crear
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.CreateResourceRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Recurso creado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Datos de entrada inválidos
          schema:
            additionalProperties: true
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Recurso ya existe
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crear recurso
      tags:
      - Resources
  /resources/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un recurso del sistema por su ID único (eliminación suave)
      parameters:
      - description: ID del recurso
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Recurso eliminado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: ID de recurso inválido
          schema:
            additionalProperties: true
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Recurso no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Eliminar recurso
      tags:
      - Resources
    get:
      consumes:
      - application/json
      description: Obtiene un recurso específico del sistema por su ID único
      parameters:
      - description: ID del recurso
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Recurso obtenido exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: ID de recurso inválido
          schema:
            additionalProperties: true
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Recurso no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtener recurso por ID
      tags:
      - Resources
    put:
      consumes:
      - application/json
      description: Actualiza un recurso existente en el sistema
      parameters:
      - description: ID del recurso
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      - description: Datos del recurso a actualizar
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateResourceRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Recurso actualizado exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Datos de entrada inválidos
          schema:
            additionalProperties: true
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Recurso no encontrado
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Conflicto con recurso existente
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar recurso
      tags:
      - Resources
  /roles:
    get:
      consumes:
      - application/json
      description: Obtiene la lista completa de roles del sistema con opciones de
        filtrado
      parameters:
      - description: Filtrar por tipo de business
        in: query
        name: business_type_id
        type: integer
      - description: Filtrar por ID de scope
        in: query
        name: scope_id
        type: integer
      - description: Filtrar por rol de sistema (true/false)
        in: query
        name: is_system
        type: boolean
      - description: Buscar en el nombre del rol (búsqueda parcial)
        in: query
        name: name
        type: string
      - description: Filtrar por nivel del rol
        in: query
        name: level
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Roles obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.RoleListResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener todos los roles
      tags:
      - Roles
    post:
      consumes:
      - application/json
      description: Crea un nuevo rol en el sistema con todos los campos obligatorios
      parameters:
      - description: Datos del rol a crear
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/request.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.CreateRoleResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crear un nuevo rol
      tags:
      - Roles
  /roles/{id}:
    get:
      consumes:
      - application/json
      description: Obtiene un rol específico por su ID con información del scope
      parameters:
      - description: ID del rol
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Rol obtenido exitosamente
          schema:
            $ref: '#/definitions/response.RoleSuccessResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "404":
          description: Rol no encontrado
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener rol por ID
      tags:
      - Roles
    put:
      consumes:
      - application/json
      description: Actualiza un rol existente en el sistema (actualización parcial)
      parameters:
      - description: ID del rol a actualizar
        in: path
        name: id
        required: true
        type: integer
      - description: Datos del rol a actualizar
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/request.UpdateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.UpdateRoleResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Rol no encontrado
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualizar un rol
      tags:
      - Roles
  /roles/{id}/permissions:
    get:
      consumes:
      - application/json
      description: Obtiene la lista de permisos asignados a un rol
      parameters:
      - description: ID del rol
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetRolePermissionsResponse'
        "400":
          description: ID de rol inválido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "404":
          description: Rol no encontrado
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener permisos de un rol
      tags:
      - Roles
    post:
      consumes:
      - application/json
      description: Asigna permisos a un rol. Solo se pueden asignar permisos que pertenezcan
        al mismo business_type que el rol
      parameters:
      - description: ID del rol
        in: path
        name: id
        required: true
        type: integer
      - description: IDs de permisos a asignar
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.AssignPermissionsToRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.AssignPermissionsToRoleResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "404":
          description: Rol no encontrado
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Asignar permisos a un rol
      tags:
      - Roles
  /roles/{id}/permissions/{permission_id}:
    delete:
      consumes:
      - application/json
      description: Elimina un permiso específico de un rol
      parameters:
      - description: ID del rol
        in: path
        name: id
        required: true
        type: integer
      - description: ID del permiso
        in: path
        name: permission_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.RoleSuccessResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "404":
          description: Rol o permiso no encontrado
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Eliminar permiso de un rol
      tags:
      - Roles
  /roles/by-level:
    get:
      consumes:
      - application/json
      description: Obtiene todos los roles de un nivel específico con información
        del scope
      parameters:
      - description: Nivel del rol
        in: query
        maximum: 10
        minimum: 1
        name: level
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Roles obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.RoleListResponse'
        "400":
          description: Nivel inválido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener roles por nivel
      tags:
      - Roles
  /roles/scope/{scope_id}:
    get:
      consumes:
      - application/json
      description: Obtiene todos los roles de un scope específico
      parameters:
      - description: ID del scope
        in: path
        minimum: 1
        name: scope_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Roles por scope obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.RoleListResponse'
        "400":
          description: Scope ID inválido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener roles por scope
      tags:
      - Roles
  /roles/system:
    get:
      consumes:
      - application/json
      description: Obtiene solo los roles del sistema (is_system = true)
      produces:
      - application/json
      responses:
        "200":
          description: Roles del sistema obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.RoleListResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.RoleErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener roles del sistema
      tags:
      - Roles
  /rooms:
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener todas las salas del sistema.
      produces:
      - application/json
      responses:
        "200":
          description: Lista de salas
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene todas las salas
      tags:
      - Salas
    post:
      consumes:
      - application/json
      description: Este endpoint permite crear una nueva sala para un negocio.
      parameters:
      - description: Datos de la sala
        in: body
        name: room
        required: true
        schema:
          $ref: '#/definitions/request.Room'
      produces:
      - application/json
      responses:
        "201":
          description: Sala creada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Sala ya existe para este negocio
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crea una nueva sala
      tags:
      - Salas
  /rooms/{id}:
    delete:
      consumes:
      - application/json
      description: Este endpoint permite eliminar una sala existente.
      parameters:
      - description: ID de la sala
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Sala eliminada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: ID de sala inválido
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Sala no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Elimina una sala
      tags:
      - Salas
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener una sala específica por su ID.
      parameters:
      - description: ID de la sala
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Sala encontrada
          schema:
            additionalProperties: true
            type: object
        "400":
          description: ID de sala inválido
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Sala no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene una sala por ID
      tags:
      - Salas
    put:
      consumes:
      - application/json
      description: Este endpoint permite actualizar una sala existente.
      parameters:
      - description: ID de la sala
        in: path
        name: id
        required: true
        type: integer
      - description: Datos de la sala
        in: body
        name: room
        required: true
        schema:
          $ref: '#/definitions/request.UpdateRoom'
      produces:
      - application/json
      responses:
        "200":
          description: Sala actualizada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Sala no encontrada
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Sala ya existe para este negocio
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualiza una sala
      tags:
      - Salas
  /tables:
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener la lista de todas las mesas registradas.
      produces:
      - application/json
      responses:
        "200":
          description: Lista de mesas obtenida exitosamente
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene todas las mesas
      tags:
      - Mesas
    post:
      consumes:
      - application/json
      description: Este endpoint permite crear una nueva mesa para un restaurante.
      parameters:
      - description: Datos de la mesa
        in: body
        name: table
        required: true
        schema:
          $ref: '#/definitions/request.Table'
      produces:
      - application/json
      responses:
        "201":
          description: Mesa creada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Mesa ya existe para este restaurante
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Crea una nueva mesa
      tags:
      - Mesas
  /tables/{id}:
    delete:
      consumes:
      - application/json
      description: Este endpoint permite eliminar una mesa específica por su ID.
      parameters:
      - description: ID de la mesa
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Mesa eliminada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Mesa no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Elimina una mesa
      tags:
      - Mesas
    get:
      consumes:
      - application/json
      description: Este endpoint permite obtener los datos de una mesa específica
        por su ID.
      parameters:
      - description: ID de la mesa
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Mesa obtenida exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Mesa no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Obtiene una mesa por ID
      tags:
      - Mesas
    put:
      consumes:
      - application/json
      description: Este endpoint permite actualizar los datos de una mesa específica.
      parameters:
      - description: ID de la mesa
        in: path
        name: id
        required: true
        type: integer
      - description: Datos a actualizar
        in: body
        name: table
        required: true
        schema:
          $ref: '#/definitions/request.UpdateTable'
      produces:
      - application/json
      responses:
        "200":
          description: Mesa actualizada exitosamente
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Solicitud inválida
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Token de acceso requerido
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Mesa no encontrada
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Error interno del servidor
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Actualiza una mesa
      tags:
      - Mesas
  /users:
    get:
      consumes:
      - application/json
      description: Obtiene la lista filtrada y paginada de usuarios del sistema con
        sus roles y businesses
      parameters:
      - default: 1
        description: Número de página
        in: query
        minimum: 1
        name: page
        type: integer
      - default: 10
        description: Tamaño de página
        in: query
        maximum: 100
        minimum: 1
        name: page_size
        type: integer
      - description: Filtrar por nombre (búsqueda parcial)
        in: query
        name: name
        type: string
      - description: Filtrar por email (búsqueda parcial)
        in: query
        name: email
        type: string
      - description: Filtrar por teléfono (búsqueda parcial)
        in: query
        name: phone
        type: string
      - description: 'Filtrar por IDs de usuarios separados por comas (ej: 1,2,3)'
        in: query
        name: user_ids
        type: string
      - description: Filtrar por estado activo
        in: query
        name: is_active
        type: boolean
      - description: Filtrar por ID de rol
        in: query
        name: role_id
        type: integer
      - description: Filtrar por ID de business
        in: query
        name: business_id
        type: integer
      - description: Filtrar por fecha de creación (YYYY-MM-DD o YYYY-MM-DD,YYYY-MM-DD
          para rango)
        in: query
        name: created_at
        type: string
      - default: created_at
        description: Campo para ordenar
        enum:
        - id
        - name
        - email
        - phone
        - is_active
        - created_at
        - updated_at
        in: query
        name: sort_by
        type: string
      - default: desc
        description: Orden de clasificación
        enum:
        - asc
        - desc
        in: query
        name: sort_order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Usuarios obtenidos exitosamente
          schema:
            $ref: '#/definitions/response.UserListResponse'
        "400":
          description: Parámetros de filtro inválidos
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener usuarios filtrados y paginados
      tags:
      - Users
    post:
      consumes:
      - multipart/form-data
      description: Crea un nuevo usuario con roles y businesses opcionales. Soporta
        carga de imagen (avatarFile).
      parameters:
      - description: Nombre
        in: formData
        name: name
        required: true
        type: string
      - description: Email
        in: formData
        name: email
        required: true
        type: string
      - description: Teléfono (10 dígitos)
        in: formData
        name: phone
        type: string
      - description: ¿Activo?
        in: formData
        name: is_active
        type: boolean
      - description: 'IDs de roles separados por comas (ej: 1,2,3)'
        in: formData
        name: role_ids
        type: string
      - description: 'IDs de negocios separados por comas (ej: 1,2,3)'
        in: formData
        name: business_ids
        type: string
      - description: URL de avatar (opcional si se usa avatarFile)
        in: formData
        name: avatar_url
        type: string
      - description: Imagen de avatar
        in: formData
        name: avatarFile
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Usuario creado exitosamente
          schema:
            $ref: '#/definitions/response.UserMessageResponse'
        "400":
          description: Datos inválidos
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "409":
          description: Email ya existe
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
      security:
      - BearerAuth: []
      summary: Crear usuario
      tags:
      - Users
  /users/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un usuario del sistema
      parameters:
      - description: ID del usuario
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Usuario eliminado exitosamente
          schema:
            $ref: '#/definitions/response.UserMessageResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
      security:
      - BearerAuth: []
      summary: Eliminar usuario
      tags:
      - Users
    get:
      consumes:
      - application/json
      description: Obtiene un usuario específico por su ID con sus roles y businesses
      parameters:
      - description: ID del usuario
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Usuario obtenido exitosamente
          schema:
            $ref: '#/definitions/response.UserSuccessResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
      security:
      - BearerAuth: []
      summary: Obtener usuario por ID
      tags:
      - Users
    put:
      consumes:
      - multipart/form-data
      description: Actualiza un usuario existente en el sistema. Soporta carga de
        imagen (avatarFile).
      parameters:
      - description: ID del usuario
        in: path
        minimum: 1
        name: id
        required: true
        type: integer
      - description: Nombre
        in: formData
        name: name
        type: string
      - description: Email
        in: formData
        name: email
        type: string
      - description: Nueva contraseña
        in: formData
        name: password
        type: string
      - description: Teléfono (10 dígitos)
        in: formData
        name: phone
        type: string
      - description: ¿Activo?
        in: formData
        name: is_active
        type: boolean
      - description: 'IDs de roles separados por comas (ej: 1,2,3)'
        in: formData
        name: role_ids
        type: string
      - description: 'IDs de negocios separados por comas (ej: 1,2,3)'
        in: formData
        name: business_ids
        type: string
      - description: URL de avatar (opcional si se usa avatarFile)
        in: formData
        name: avatar_url
        type: string
      - description: Imagen de avatar
        in: formData
        name: avatarFile
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Usuario actualizado exitosamente
          schema:
            $ref: '#/definitions/response.UserSuccessResponse'
        "400":
          description: Datos inválidos
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "401":
          description: Token de acceso requerido
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "409":
          description: Email ya existe
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/response.UserErrorResponse'
      security:
      - BearerAuth: []
      summary: Actualizar usuario
      tags:
      - Users
securityDefinitions:
  BearerAuth:
    description: Token de business JWT con el prefijo **Bearer** (para todos los endpoints)
    in: header
    name: Authorization
    type: apiKey
  BusinessTokenAuth:
    description: Token principal JWT con el prefijo **Bearer** (solo para /auth/business-token)
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
