# ============================================
# Archivo de ejemplo de variables de entorno
# Probability - Produccion (Podman)
# ============================================
#
# INSTRUCCIONES:
# 1. Copia este archivo a .env: cp .env.example .env
# 2. Completa todos los valores con tus credenciales reales
# 3. NO subas el archivo .env al repositorio (esta en .gitignore)
#
# ============================================
# NOMBRES DE SERVICIOS EN LA RED PODMAN
# ============================================
# Los siguientes son los nombres de host que puedes usar
# para conectarte entre servicios dentro de la red Podman:
#
# - front-central    : Frontend Next.js (app principal)
# - front-website    : Frontend Website (landing page)
# - back-central     : Backend API (Go)
# - redis            : Cache Redis
# - rabbitmq         : Message Queue RabbitMQ
# - nginx            : Reverse Proxy Nginx
#
# Ejemplo de uso en codigo:
#   REDIS_HOST=redis (no usar localhost)
#   API_BASE_URL=http://back-central:3050/api/v1
# ============================================

# ============================================
# CONFIGURACION GENERAL
# ============================================
APP_ENV=production
LOG_LEVEL=info

# ============================================
# BASE DE DATOS POSTGRESQL (externa)
# ============================================
# Si usas base de datos externa (RDS, etc.)
DB_HOST=tu-rds-endpoint.amazonaws.com
DB_PORT=5432
DB_NAME=probability
DB_USER=postgres
DB_PASSWORD=tu_password_seguro_aqui
DB_LOG_LEVEL=warn
DB_SSLMODE=require

# ============================================
# REDIS CACHE
# ============================================
# Host: redis (nombre del servicio en Podman)
# Puerto interno: 6379
REDIS_PASSWORD=tu_redis_password_seguro
REDIS_ORDER_EVENTS_CHANNEL=probability:orders:events

# ============================================
# RABBITMQ
# ============================================
# Host: rabbitmq (nombre del servicio en Podman)
# AMQP Port: 5672
# Management UI: http://localhost:15672 (solo accesible localmente)
RABBITMQ_USER=admin
RABBITMQ_PASS=tu_rabbitmq_password_seguro
RABBITMQ_VHOST=/
RABBITMQ_ORDERS_CREATE=orders.create

# ============================================
# S3 / ALMACENAMIENTO
# ============================================
S3_BUCKET=probability-media
S3_REGION=us-east-1
S3_KEY=tu_aws_access_key
S3_SECRET=tu_aws_secret_key
URL_BASE_DOMAIN_S3=https://tu-bucket.s3.amazonaws.com

# ============================================
# BACKEND API (back-central)
# ============================================
# Puerto interno: 3050
HTTP_PORT=3050
JWT_SECRET=tu_jwt_secret_muy_seguro_aqui_cambiar_en_produccion
URL_BASE_SWAGGER=https://www.probabilityia.com.co/api/v1

# ============================================
# SMTP / EMAIL
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=tu_email@gmail.com
SMTP_PASS=tu_password_de_aplicacion
FROM_EMAIL=noreply@probabilityia.com.co
SMTP_USE_STARTTLS=true
SMTP_USE_TLS=false

# ============================================
# WHATSAPP (Cloud API)
# ============================================
WHATSAPP_URL=https://graph.facebook.com/v18.0
WHATSAPP_TOKEN=tu_token_whatsapp
WHATSAPP_PHONE_NUMBER_ID=tu_phone_number_id

# ============================================
# ENCRYPTION
# ============================================
# Debe ser exactamente 32 caracteres
ENCRYPTION_KEY=tu_clave_de_encriptacion_32_char

# ============================================
# NGINX / DOMINIO / SSL
# ============================================
DOMAIN=www.probabilityia.com.co
SSL_CERT_PATH=/etc/letsencrypt/live/www.probabilityia.com.co/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/www.probabilityia.com.co/privkey.pem

# ============================================
# FRONTEND (Next.js)
# ============================================
# NEXT_PUBLIC_API_BASE_URL: URL publica para el cliente (SSE, etc.)
# API_BASE_URL: URL interna para Server Actions
# PORT: Puerto interno del servidor Next.js (IMPORTANTE: debe ser 3000 para Podman rootless)
NEXT_PUBLIC_API_BASE_URL=https://www.probabilityia.com.co/api/v1
API_BASE_URL=http://back-central:3050/api/v1
PORT=3000
